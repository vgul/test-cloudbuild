{
    "builders": [
      {
        "type": "googlecompute",
        "source_image_family": "windows-2016",
        "project_id": "{{user `project_id`}}",
        "disk_size": "50",
        "disk_type": "pd-ssd",
        "machine_type": "n1-standard-2",
        "communicator": "winrm",
        "network_project_id": "ops-shared-vpc",
        "network": "ops-vpc1",
        "subnetwork": "projects/ops-shared-vpc/regions/us-west2/subnetworks/testing-cloud-cd-us-west2",
        "tags": "packer-winrm",
        "winrm_username": "packer_user",
        "winrm_insecure": true,
        "winrm_use_ssl": true,
        "metadata": {
          "windows-startup-script-cmd": "winrm quickconfig -quiet & net user /add packer_user & net localgroup administrators packer_user /add & winrm set winrm/config/service/auth @{Basic=\"true\"}"
        },
        "zone": "us-west2-a",
        "image_storage_locations": ["us-west2"],
        "image_name": "app-{{timestamp}}",
        "image_family": "app-base"
      }
    ],
    "provisioners": [
      {
        "type": "powershell",
        "script": "packer/app.ps1"
      }
    ]
}
